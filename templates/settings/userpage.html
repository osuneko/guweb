{% extends 'base.html' %}
{% block title %} Userpage {% endblock %}

{% block content %}
<link rel="stylesheet" href="/static/css/pages/settings/style.css">

<div class="main-block">
  {% include "settings/sidebar.html" %}
  <div class="block-content right" id="settings-content">
    <div class="single-right-block">
      <div class="right-block-header">
        Userpage
      </div>
      <div class="right-block-content">
        <div class="flex avatar-flex">
          <div class="column">
            <form id="upload-profile" action="/settings/userpage" method="post" enctype="multipart/form-data">
              <div class="single-block-content">
                <div class="block-content">
                  <div class="field-label is-normal">
                    <label class="label">Userpage</label>
                  </div>
                </div>
                <div class="block-content">
                  <div class="field-body">
                    <div class="field">
                      <p class="control">
                        <input class="input" type="text" name="userpage" value="{{ session.user_data['userpage_content'] }}">
                      </p>
                    </div>
                  </div>
                </div>
              </div>
              <div class="single-block-content">
                <div class="block-content">
                  <div class="field-label is-normal">
                    <label class="label">Username A.K.A</label>
                  </div>
                </div>
                <div class="block-content">
                  <div class="field-body">
                    <div class="field">
                      <p class="control">
                        <input class="input" type="text" name="username_aka">
                      </p>
                    </div>
                  </div>
                </div>
              </div>
              <div class="userpage-button buttons mt-6">
                <button class='button is-primary' type='submit'><span class='icon is-small'><i class='fas fa-check'></i></span><span>Save</span></button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.5/cropper.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.5/cropper.css" />
</div>

{% if flash %}
<div class='noti-banner noti-banner-warning'>
  <div class="container">
    <div class="noti-column">
      <div class='noti-col noti-col-icon'></div>
      <div class='noti-col noti-col-label'>
        <div class='noti-bannertype'>
          {% if status=='error' %}
          Warning
          {% elif status=='success' %}
          Notice
          {% endif %}
        </div>
        <div class='noti-bannertext'>
          {% if status=='error' %}
          Uh oh! Be careful!
          {% elif status=='success' %}
          Hey! Listen!
          {% endif %}
        </div>
      </div>
      <div class='noti-banner-text'>
        {{ flash }}
      </div>
    </div>
  </div>
</div>
{% endif %}

{% endblock %}

{% block bottom %}
<style>
    {% if customizations['background'] == True %}
        body {
            background: linear-gradient(hsl(var(--main), 25%, 25%, 20%), hsl(var(--main), 10%, 10%)), url("/backgrounds/{{ session['user_data']['id'] }}");
            background-size: cover !important;
        }
    {% endif %}
</style>
{% endblock bottom %}
